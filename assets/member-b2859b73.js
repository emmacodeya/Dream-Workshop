document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(".nav-link[data-content]"),o=document.getElementById("current-page-title"),c=document.getElementById("offcanvasSidebar"),a=new bootstrap.Offcanvas(c);t.forEach(e=>{e.addEventListener("click",function(l){l.preventDefault(),t.forEach(d=>d.classList.remove("active-link")),this.classList.add("active-link"),document.querySelectorAll(".content-section").forEach(d=>{d.style.display="none"});const i=this.getAttribute("data-content"),s=document.getElementById(i);s&&(s.style.display="block",o.querySelector("a").textContent=this.getAttribute("data-title"),s.scrollIntoView({behavior:"smooth"})),a.hide()})});const n=document.getElementById("member");n&&(n.style.display="block",o.querySelector("a").textContent=t[0].getAttribute("data-title"),t[0].classList.add("active-link")),c.addEventListener("hidden.bs.offcanvas",function(){const e=document.querySelector(".offcanvas-backdrop");e&&(e.style.display="none")})});const r=document.getElementById("clearButton");r&&r.addEventListener("click",function(){document.querySelectorAll(".inputField").forEach(function(t){t.value=""})});function u(t,o,c){const a=document.getElementById(t),n=document.getElementById(o),e=document.getElementById(c);a&&n&&e?(n.addEventListener("click",function(){a.click()}),a.addEventListener("change",function(){const l=this.files[0];if(l&&l.type.startsWith("image/")){const i=new FileReader;i.onload=function(s){e.src=s.target.result,e.style.display="block",n.style.backgroundImage="none"},i.readAsDataURL(l)}else alert("請上傳有效的圖片文件")})):console.error(`Element not found: avatarId = ${t}, uploadId = ${o}, previewImageId = ${c}`)}const f=17;for(let t=1;t<=f;t++)u(`avatar${t}`,`custom-avatar-upload${t}`,`previewImage${t}`);
